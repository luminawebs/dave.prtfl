{"ast":null,"code":"// Email service using EmailJS for client-side email sending\n// Alternative: You can replace this with your own backend API\n// For EmailJS setup:\n// 1. Go to https://www.emailjs.com/\n// 2. Create an account and get your PUBLIC_KEY, SERVICE_ID, and TEMPLATE_ID\n// 3. Replace the values below with your actual EmailJS configuration\nconst EMAILJS_CONFIG={PUBLIC_KEY:process.env.REACT_APP_EMAILJS_PUBLIC_KEY||'your_emailjs_public_key',SERVICE_ID:process.env.REACT_APP_EMAILJS_SERVICE_ID||'your_service_id',TEMPLATE_ID:process.env.REACT_APP_EMAILJS_TEMPLATE_ID||'your_template_id'};/**\r\n * Send form data via email\r\n * @param {Object} formData - The form data to send\r\n * @param {Object} scores - Quiz scores\r\n * @param {Array} answers - Quiz answers\r\n * @returns {Promise} - EmailJS promise\r\n */export const sendFormData=async(formData,scores,answers)=>{// Check if EmailJS is configured\nif(!window.emailjs){console.warn('EmailJS not loaded. Form data logged to console instead.');console.log('Form Data:',{formData,scores,answers});return Promise.resolve({status:200,text:'Logged to console'});}// Prepare email template parameters\nconst templateParams={// User Information\nuser_name:formData.fullName,user_email:formData.email,user_company:formData.company||'Not provided',user_job_title:formData.jobTitle||'Not provided',// Quiz Results\ntotal_score:Math.round(Object.values(scores).reduce((a,b)=>a+b,0)/8),category1_score:Math.round(scores.category1/2),category2_score:Math.round(scores.category2/2),category3_score:Math.round(scores.category3/2),category4_score:Math.round(scores.category4/2),// Meeting Information\nschedule_meeting:formData.scheduleMeeting?'Yes':'No',meeting_date:formData.meetingDate||'Not requested',meeting_time:formData.meetingTime||'Not requested',// Newsletter subscription\nsubscribe_newsletter:formData.subscribe?'Yes':'No',// Detailed answers (formatted as text)\ndetailed_answers:answers.map((answer,index)=>\"Q\".concat(index+1,\": \").concat(answer.answer,\" (Score: \").concat(answer.score,\")\")).join('\\n'),// Submission timestamp\nsubmission_date:new Date().toLocaleString(),// Recipient email (your email where you want to receive the form data)\nto_email:process.env.REACT_APP_RECIPIENT_EMAIL||'your-email@example.com'};try{const response=await window.emailjs.send(EMAILJS_CONFIG.SERVICE_ID,EMAILJS_CONFIG.TEMPLATE_ID,templateParams,EMAILJS_CONFIG.PUBLIC_KEY);console.log('Email sent successfully:',response);return response;}catch(error){console.error('Failed to send email:',error);// Fallback: log to console if email fails\nconsole.log('Form Data (Email failed):',{formData,scores,answers});throw error;}};/**\r\n * Alternative backend API method\r\n * Use this if you have your own backend API\r\n */export const sendToBackendAPI=async(formData,scores,answers)=>{const API_ENDPOINT=process.env.REACT_APP_API_ENDPOINT||'/api/submit-form';try{const response=await fetch(API_ENDPOINT,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({formData,scores,answers,submissionTime:new Date().toISOString()})});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log('Form submitted to backend:',result);return result;}catch(error){console.error('Failed to submit to backend:',error);// Fallback: log to console if API fails\nconsole.log('Form Data (API failed):',{formData,scores,answers});throw error;}};","map":{"version":3,"names":["EMAILJS_CONFIG","PUBLIC_KEY","process","env","REACT_APP_EMAILJS_PUBLIC_KEY","SERVICE_ID","REACT_APP_EMAILJS_SERVICE_ID","TEMPLATE_ID","REACT_APP_EMAILJS_TEMPLATE_ID","sendFormData","formData","scores","answers","window","emailjs","console","warn","log","Promise","resolve","status","text","templateParams","user_name","fullName","user_email","email","user_company","company","user_job_title","jobTitle","total_score","Math","round","Object","values","reduce","a","b","category1_score","category1","category2_score","category2","category3_score","category3","category4_score","category4","schedule_meeting","scheduleMeeting","meeting_date","meetingDate","meeting_time","meetingTime","subscribe_newsletter","subscribe","detailed_answers","map","answer","index","concat","score","join","submission_date","Date","toLocaleString","to_email","REACT_APP_RECIPIENT_EMAIL","response","send","error","sendToBackendAPI","API_ENDPOINT","REACT_APP_API_ENDPOINT","fetch","method","headers","body","JSON","stringify","submissionTime","toISOString","ok","Error","result","json"],"sources":["D:/00 Lumina Interactiva/website/Strategy/edunest.co/src/services/emailService.js"],"sourcesContent":["// Email service using EmailJS for client-side email sending\r\n// Alternative: You can replace this with your own backend API\r\n\r\n// For EmailJS setup:\r\n// 1. Go to https://www.emailjs.com/\r\n// 2. Create an account and get your PUBLIC_KEY, SERVICE_ID, and TEMPLATE_ID\r\n// 3. Replace the values below with your actual EmailJS configuration\r\n\r\nconst EMAILJS_CONFIG = {\r\n  PUBLIC_KEY: process.env.REACT_APP_EMAILJS_PUBLIC_KEY || 'your_emailjs_public_key',\r\n  SERVICE_ID: process.env.REACT_APP_EMAILJS_SERVICE_ID || 'your_service_id',\r\n  TEMPLATE_ID: process.env.REACT_APP_EMAILJS_TEMPLATE_ID || 'your_template_id'\r\n};\r\n\r\n/**\r\n * Send form data via email\r\n * @param {Object} formData - The form data to send\r\n * @param {Object} scores - Quiz scores\r\n * @param {Array} answers - Quiz answers\r\n * @returns {Promise} - EmailJS promise\r\n */\r\nexport const sendFormData = async (formData, scores, answers) => {\r\n  // Check if EmailJS is configured\r\n  if (!window.emailjs) {\r\n    console.warn('EmailJS not loaded. Form data logged to console instead.');\r\n    console.log('Form Data:', { formData, scores, answers });\r\n    return Promise.resolve({ status: 200, text: 'Logged to console' });\r\n  }\r\n\r\n  // Prepare email template parameters\r\n  const templateParams = {\r\n    // User Information\r\n    user_name: formData.fullName,\r\n    user_email: formData.email,\r\n    user_company: formData.company || 'Not provided',\r\n    user_job_title: formData.jobTitle || 'Not provided',\r\n    \r\n    // Quiz Results\r\n    total_score: Math.round(Object.values(scores).reduce((a, b) => a + b, 0) / 8),\r\n    category1_score: Math.round(scores.category1 / 2),\r\n    category2_score: Math.round(scores.category2 / 2),\r\n    category3_score: Math.round(scores.category3 / 2),\r\n    category4_score: Math.round(scores.category4 / 2),\r\n    \r\n    // Meeting Information\r\n    schedule_meeting: formData.scheduleMeeting ? 'Yes' : 'No',\r\n    meeting_date: formData.meetingDate || 'Not requested',\r\n    meeting_time: formData.meetingTime || 'Not requested',\r\n    \r\n    // Newsletter subscription\r\n    subscribe_newsletter: formData.subscribe ? 'Yes' : 'No',\r\n    \r\n    // Detailed answers (formatted as text)\r\n    detailed_answers: answers.map((answer, index) => \r\n      `Q${index + 1}: ${answer.answer} (Score: ${answer.score})`\r\n    ).join('\\n'),\r\n    \r\n    // Submission timestamp\r\n    submission_date: new Date().toLocaleString(),\r\n    \r\n    // Recipient email (your email where you want to receive the form data)\r\n    to_email: process.env.REACT_APP_RECIPIENT_EMAIL || 'your-email@example.com'\r\n  };\r\n\r\n  try {\r\n    const response = await window.emailjs.send(\r\n      EMAILJS_CONFIG.SERVICE_ID,\r\n      EMAILJS_CONFIG.TEMPLATE_ID,\r\n      templateParams,\r\n      EMAILJS_CONFIG.PUBLIC_KEY\r\n    );\r\n    \r\n    console.log('Email sent successfully:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Failed to send email:', error);\r\n    // Fallback: log to console if email fails\r\n    console.log('Form Data (Email failed):', { formData, scores, answers });\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Alternative backend API method\r\n * Use this if you have your own backend API\r\n */\r\nexport const sendToBackendAPI = async (formData, scores, answers) => {\r\n  const API_ENDPOINT = process.env.REACT_APP_API_ENDPOINT || '/api/submit-form';\r\n  \r\n  try {\r\n    const response = await fetch(API_ENDPOINT, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        formData,\r\n        scores,\r\n        answers,\r\n        submissionTime: new Date().toISOString()\r\n      })\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n    \r\n    const result = await response.json();\r\n    console.log('Form submitted to backend:', result);\r\n    return result;\r\n  } catch (error) {\r\n    console.error('Failed to submit to backend:', error);\r\n    // Fallback: log to console if API fails\r\n    console.log('Form Data (API failed):', { formData, scores, answers });\r\n    throw error;\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}